{"ast":null,"code":"var _jsxFileName = \"D:\\\\social-frontend\\\\src\\\\user\\\\FindPeople.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Link } from \"react-router-dom\";\nimport { findPeople, follow } from \"./api-user.js\";\nimport auth from \"./../auth/auth-helper\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport ViewIcon from \"@material-ui/icons/Visibility\";\nimport baseURL from \"../config.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: theme.mixins.gutters({\n    padding: theme.spacing(1),\n    margin: 0\n  }),\n  title: {\n    margin: `${theme.spacing(3)}px ${theme.spacing(1)}px ${theme.spacing(2)}px`,\n    color: theme.palette.openTitle,\n    fontSize: \"1em\"\n  },\n  avatar: {\n    marginRight: theme.spacing(1)\n  },\n  follow: {\n    right: theme.spacing(2)\n  },\n  snack: {\n    color: theme.palette.protectedTitle\n  },\n  viewButton: {\n    verticalAlign: \"middle\"\n  }\n}));\nexport default function FindPeople() {\n  _s();\n  var _values$users;\n  const classes = useStyles();\n  const [values, setValues] = useState({\n    users: [],\n    open: false,\n    followMessage: \"\"\n  });\n  const jwt = auth.isAuthenticated();\n  useEffect(() => {\n    const abortController = new AbortController();\n    const signal = abortController.signal;\n    findPeople({\n      userId: jwt.user.id\n    }, {\n      t: jwt.accessToken\n    }, signal).then(data => {\n      if (data && data.error) {\n        console.log(data.error);\n      } else {\n        setValues({\n          ...values,\n          users: data\n        });\n      }\n    });\n    return function cleanup() {\n      abortController.abort();\n    };\n  }, []);\n  const clickFollow = (user, index) => {\n    follow({\n      userId: jwt.user.id\n    }, {\n      t: jwt.accessToken\n    }, user.id).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        let toFollow = values.users;\n        toFollow.splice(index, 1);\n        setValues({\n          ...values,\n          users: toFollow,\n          open: true,\n          followMessage: `Following ${user.name}!`\n        });\n      }\n    });\n  };\n  const handleRequestClose = (event, reason) => {\n    setValues({\n      ...values,\n      open: false\n    });\n  };\n  console.log(values);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.root,\n      elevation: 4,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        type: \"title\",\n        className: classes.title,\n        children: \"Who to follow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        children: values === null || values === void 0 ? void 0 : (_values$users = values.users) === null || _values$users === void 0 ? void 0 : _values$users.map((item, i) => {\n          return /*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(ListItem, {\n              children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n                className: classes.avatar,\n                children: /*#__PURE__*/_jsxDEV(Avatar, {\n                  src: baseURL + \"/api/users/photo/\" + item.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n                className: classes.follow,\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/user/\" + item.id,\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    variant: \"contained\",\n                    color: \"secondary\",\n                    className: classes.viewButton,\n                    children: /*#__PURE__*/_jsxDEV(ViewIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 127,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  \"aria-label\": \"Follow\",\n                  variant: \"contained\",\n                  color: \"primary\",\n                  onClick: () => {\n                    clickFollow(item, i);\n                  },\n                  children: \"Follow\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"right\"\n      },\n      open: values.open,\n      onClose: handleRequestClose,\n      autoHideDuration: 6000,\n      message: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: classes.snack,\n        children: values.followMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n}\n_s(FindPeople, \"wVCr4M9WYtQ1Kw2s9FG8kQnjkDM=\", false, function () {\n  return [useStyles];\n});\n_c = FindPeople;\nvar _c;\n$RefreshReg$(_c, \"FindPeople\");","map":{"version":3,"names":["React","useState","useEffect","makeStyles","Paper","List","ListItem","ListItemAvatar","ListItemSecondaryAction","ListItemText","Avatar","Button","IconButton","Typography","Link","findPeople","follow","auth","Snackbar","ViewIcon","baseURL","useStyles","theme","root","mixins","gutters","padding","spacing","margin","title","color","palette","openTitle","fontSize","avatar","marginRight","right","snack","protectedTitle","viewButton","verticalAlign","FindPeople","classes","values","setValues","users","open","followMessage","jwt","isAuthenticated","abortController","AbortController","signal","userId","user","id","t","accessToken","then","data","error","console","log","cleanup","abort","clickFollow","index","toFollow","splice","name","handleRequestClose","event","reason","map","item","i","vertical","horizontal"],"sources":["D:/social-frontend/src/user/FindPeople.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { findPeople, follow } from \"./api-user.js\";\r\nimport auth from \"./../auth/auth-helper\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport ViewIcon from \"@material-ui/icons/Visibility\";\r\nimport baseURL from \"../config.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: theme.mixins.gutters({\r\n    padding: theme.spacing(1),\r\n    margin: 0,\r\n  }),\r\n  title: {\r\n    margin: `${theme.spacing(3)}px ${theme.spacing(1)}px ${theme.spacing(2)}px`,\r\n    color: theme.palette.openTitle,\r\n    fontSize: \"1em\",\r\n  },\r\n  avatar: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  follow: {\r\n    right: theme.spacing(2),\r\n  },\r\n  snack: {\r\n    color: theme.palette.protectedTitle,\r\n  },\r\n  viewButton: {\r\n    verticalAlign: \"middle\",\r\n  },\r\n}));\r\n\r\nexport default function FindPeople() {\r\n  const classes = useStyles();\r\n  const [values, setValues] = useState({\r\n    users: [],\r\n    open: false,\r\n    followMessage: \"\",\r\n  });\r\n  const jwt = auth.isAuthenticated();\r\n\r\n  useEffect(() => {\r\n    const abortController = new AbortController();\r\n    const signal = abortController.signal;\r\n\r\n    findPeople(\r\n      {\r\n        userId: jwt.user.id,\r\n      },\r\n      {\r\n        t: jwt.accessToken,\r\n      },\r\n      signal\r\n    ).then((data) => {\r\n      if (data && data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setValues({ ...values, users: data });\r\n      }\r\n    });\r\n    return function cleanup() {\r\n      abortController.abort();\r\n    };\r\n  }, []);\r\n  const clickFollow = (user, index) => {\r\n    follow(\r\n      {\r\n        userId: jwt.user.id,\r\n      },\r\n      {\r\n        t: jwt.accessToken,\r\n      },\r\n      user.id\r\n    ).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        let toFollow = values.users;\r\n        toFollow.splice(index, 1);\r\n        setValues({\r\n          ...values,\r\n          users: toFollow,\r\n          open: true,\r\n          followMessage: `Following ${user.name}!`,\r\n        });\r\n      }\r\n    });\r\n  };\r\n  const handleRequestClose = (event, reason) => {\r\n    setValues({ ...values, open: false });\r\n  };\r\n\r\n  console.log(values);\r\n  return (\r\n    <div>\r\n      <Paper className={classes.root} elevation={4}>\r\n        <Typography type=\"title\" className={classes.title}>\r\n          Who to follow\r\n        </Typography>\r\n        <List>\r\n          {values?.users?.map((item, i) => {\r\n            return (\r\n              <span key={i}>\r\n                <ListItem>\r\n                  <ListItemAvatar className={classes.avatar}>\r\n                    <Avatar src={baseURL + \"/api/users/photo/\" + item.id} />\r\n                  </ListItemAvatar>\r\n                  <ListItemText primary={item.name} />\r\n                  <ListItemSecondaryAction className={classes.follow}>\r\n                    <Link to={\"/user/\" + item.id}>\r\n                      <IconButton\r\n                        variant=\"contained\"\r\n                        color=\"secondary\"\r\n                        className={classes.viewButton}\r\n                      >\r\n                        <ViewIcon />\r\n                      </IconButton>\r\n                    </Link>\r\n                    <Button\r\n                      aria-label=\"Follow\"\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      onClick={() => {\r\n                        clickFollow(item, i);\r\n                      }}\r\n                    >\r\n                      Follow\r\n                    </Button>\r\n                  </ListItemSecondaryAction>\r\n                </ListItem>\r\n              </span>\r\n            );\r\n          })}\r\n        </List>\r\n      </Paper>\r\n      <Snackbar\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        }}\r\n        open={values.open}\r\n        onClose={handleRequestClose}\r\n        autoHideDuration={6000}\r\n        message={<span className={classes.snack}>{values.followMessage}</span>}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}