{"ast":null,"code":"var _jsxFileName = \"D:\\\\social-frontend\\\\src\\\\user\\\\DeleteUser.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport auth from './../auth/auth-helper';\nimport { remove } from './api-user.js';\nimport { Redirect, Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DeleteUser(props) {\n  _s();\n  const [open, setOpen] = useState(false);\n  const [redirect, setRedirect] = useState(false);\n  const jwt = auth.isAuthenticated();\n  const clickButton = () => {\n    setOpen(true);\n  };\n  const deleteAccount = () => {\n    remove({\n      userId: props.userId\n    }, {\n      t: jwt.token\n    }).then(data => {\n      if (data && data.error) {\n        console.log(data.error);\n      } else {\n        auth.clearJWT(() => console.log('deleted'));\n        setRedirect(true);\n      }\n    });\n  };\n  const handleRequestClose = () => {\n    setOpen(false);\n  };\n  if (redirect) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [/*#__PURE__*/_jsxDEV(IconButton, {\n      \"aria-label\": \"Delete\",\n      onClick: clickButton,\n      color: \"secondary\",\n      children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleRequestClose,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: 'Delete Account'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: \"Confirm to delete your account.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleRequestClose,\n          color: \"primary\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: deleteAccount,\n          color: \"secondary\",\n          autoFocus: \"autoFocus\",\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(DeleteUser, \"QnVis86mE/bTr2t5NEW/1aGd55g=\");\n_c = DeleteUser;\nDeleteUser.propTypes = {\n  userId: PropTypes.string.isRequired\n};\nvar _c;\n$RefreshReg$(_c, \"DeleteUser\");","map":{"version":3,"names":["React","useState","PropTypes","IconButton","Button","DeleteIcon","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","auth","remove","Redirect","Link","DeleteUser","props","open","setOpen","redirect","setRedirect","jwt","isAuthenticated","clickButton","deleteAccount","userId","t","token","then","data","error","console","log","clearJWT","handleRequestClose","propTypes","string","isRequired"],"sources":["D:/social-frontend/src/user/DeleteUser.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport auth from './../auth/auth-helper';\r\nimport { remove } from './api-user.js';\r\nimport { Redirect, Link } from 'react-router-dom';\r\n\r\nexport default function DeleteUser(props) {\r\n  const [open, setOpen] = useState(false);\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  const jwt = auth.isAuthenticated();\r\n  const clickButton = () => {\r\n    setOpen(true);\r\n  };\r\n  const deleteAccount = () => {\r\n    remove(\r\n      {\r\n        userId: props.userId,\r\n      },\r\n      { t: jwt.token }\r\n    ).then((data) => {\r\n      if (data && data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        auth.clearJWT(() => console.log('deleted'));\r\n        setRedirect(true);\r\n      }\r\n    });\r\n  };\r\n  const handleRequestClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  if (redirect) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n  return (\r\n    <span>\r\n      <IconButton aria-label=\"Delete\" onClick={clickButton} color=\"secondary\">\r\n        <DeleteIcon />\r\n      </IconButton>\r\n\r\n      <Dialog open={open} onClose={handleRequestClose}>\r\n        <DialogTitle>{'Delete Account'}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>Confirm to delete your account.</DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleRequestClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={deleteAccount} color=\"secondary\" autoFocus=\"autoFocus\">\r\n            Confirm\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </span>\r\n  );\r\n}\r\nDeleteUser.propTypes = {\r\n  userId: PropTypes.string.isRequired,\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}